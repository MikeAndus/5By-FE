{
  "last_updated_by": null,
  "last_updated_at": null,
  "nodes": {
    "FE-0": {
      "title": "Frontend Scaffold (React PWA)",
      "completed_at": "2026-02-10T06:33:16Z",
      "contracts": [
        {
          "name": "FrontendRoutes",
          "kind": "routing",
          "schema": {
            "/": {
              "params": {},
              "description": "Create/New Game placeholder screen"
            },
            "/s/:sessionId": {
              "params": {
                "sessionId": "string"
              },
              "description": "In-session placeholder screen"
            },
            "/game-over": {
              "params": {},
              "description": "Game-over placeholder screen"
            }
          }
        }
      ],
      "schemas": [],
      "files_created": [
        ".env.example",
        ".gitignore",
        "README.md",
        "build-manifest.json",
        "components.json",
        "index.html",
        "package-lock.json",
        "package.json",
        "postcss.config.cjs",
        "public/icons/apple-touch-icon.png",
        "public/icons/icon-192.png",
        "public/icons/icon-512.png",
        "public/icons/maskable-512.png",
        "public/manifest.webmanifest",
        "src/App.tsx",
        "src/components/brand/Logo.tsx",
        "src/components/layout/AppFooter.tsx",
        "src/components/layout/AppHeader.tsx",
        "src/components/layout/AppLayout.tsx",
        "src/components/ui/badge.tsx",
        "src/components/ui/button.tsx",
        "src/components/ui/card.tsx",
        "src/components/ui/input.tsx",
        "src/components/ui/label.tsx",
        "src/components/ui/separator.tsx",
        "src/components/ui/skeleton.tsx",
        "src/components/ui/sonner.tsx",
        "src/lib/utils.ts",
        "src/main.tsx",
        "src/pages/GameOverPage.tsx",
        "src/pages/NewGamePage.tsx",
        "src/pages/SessionPage.tsx",
        "src/pwa/registerSW.ts",
        "src/routes/index.tsx",
        "src/styles/globals.css",
        "src/vite-env.d.ts",
        "tailwind.config.ts",
        "tsconfig.json",
        "tsconfig.node.json",
        "vite.config.ts"
      ],
      "decisions": [
        "Routing uses react-router-dom with BrowserRouter and explicit placeholders for '/', '/s/:sessionId', '/game-over', plus a not-found fallback.",
        "PWA is implemented with vite-plugin-pwa using autoUpdate registration via virtual:pwa-register and generated service worker assets.",
        "Workbox generation runs with 'mode: development' to avoid an environment-specific terser crash during service worker generation.",
        "ShadCN-compatible setup is established with components under src/components/ui, utility cn() in src/lib/utils.ts, and components.json mappings.",
        "Theme tokens map canon colors into Tailwind and ShadCN-compatible CSS variables; fonts are Syne (headings) and Archivo (body) loaded in index.html."
      ],
      "environment_variables": [
        {
          "key": "VITE_API_BASE_URL",
          "description": "Reserved API base URL placeholder for downstream frontend-backend integration."
        }
      ]
    },
    "FE-1": {
      "title": "UI Foundation + Session-Centric Navigation",
      "completed_at": "2026-02-10T07:34:19Z",
      "contracts": [
        {
          "name": "FrontendRoutesV2",
          "kind": "routing",
          "schema": {
            "/": {
              "params": {},
              "description": "Create/New Game entry screen"
            },
            "/s/:sessionId": {
              "params": {
                "sessionId": "uuid"
              },
              "description": "In-session screen guarded by backend snapshot status"
            },
            "/s/:sessionId/over": {
              "params": {
                "sessionId": "uuid"
              },
              "description": "Game-over screen for completed sessions only"
            },
            "/game-over": {
              "params": {},
              "description": "Legacy path redirected to '/' because session context is required"
            }
          }
        },
        {
          "name": "GetSessionSnapshot",
          "kind": "http",
          "schema": {
            "request": {
              "method": "GET",
              "path": "/sessions/{session_id}",
              "path_params": {
                "session_id": "uuid"
              }
            },
            "response_200": {
              "session_id": "uuid",
              "status": "in_progress | complete",
              "current_turn": "1 | 2",
              "players": [
                {
                  "player_number": "1 | 2",
                  "name": "string | undefined",
                  "score": "number",
                  "grid_id": "uuid",
                  "cells": [
                    {
                      "index": "0..24",
                      "row": "0..4",
                      "col": "0..4",
                      "revealed": "boolean",
                      "letter": "string | undefined",
                      "locked": "boolean",
                      "topics_used": "string[]",
                      "revealed_by": "question | guess | auto | null"
                    }
                  ],
                  "completed": "boolean"
                }
              ],
              "last_event": {
                "type": "string",
                "result": "ok | error | undefined",
                "message_to_speak": "string | undefined"
              }
            },
            "error_responses": [
              {
                "status": 404,
                "payload": "unknown"
              },
              {
                "status": 422,
                "payload": "unknown"
              },
              {
                "status": "5xx",
                "payload": "unknown"
              }
            ]
          }
        },
        {
          "name": "SessionStoreState",
          "kind": "state-interface",
          "schema": {
            "sessionId": "string | null",
            "snapshot": "SessionSnapshot | null",
            "loading": "boolean",
            "error": "string | null",
            "lastLoadedAt": "number | null",
            "actions": {
              "setSessionId(sessionId)": "void",
              "loadSession(sessionId)": "Promise<void>",
              "refresh()": "Promise<void>",
              "clear()": "void"
            }
          }
        }
      ],
      "schemas": [],
      "files_created": [
        "build-manifest.json",
        "package-lock.json",
        "package.json",
        "src/components/layout/AppFooter.tsx",
        "src/components/layout/AppHeader.tsx",
        "src/components/layout/AppLayout.tsx",
        "src/components/ui/button.tsx",
        "src/components/ui/dialog.tsx",
        "src/components/ui/form.tsx",
        "src/components/ui/input.tsx",
        "src/lib/api/http.ts",
        "src/lib/api/schemas.ts",
        "src/lib/api/sessions.ts",
        "src/lib/env.ts",
        "src/lib/routing.ts",
        "src/pages/GameOverPage.tsx",
        "src/pages/NewGamePage.tsx",
        "src/pages/SessionPage.tsx",
        "src/routes/index.tsx",
        "src/state/sessionStore.ts",
        "src/styles/globals.css",
        "tailwind.config.ts"
      ],
      "decisions": [
        "Navigation decisions are page-level and derived only from authoritative backend snapshot status (`complete` redirects to `/s/:sessionId/over`; non-complete redirects back to `/s/:sessionId`).",
        "Session snapshot state is centralized in a minimal Zustand store with fetch/loading/error metadata and no gameplay-rule derivations.",
        "Runtime API payload validation uses Zod schemas before state write; invalid payloads fail safely with user-facing error toasts.",
        "API requests are centralized through `apiFetch` and environment access is centralized through `src/lib/env.ts` to avoid scattered URL handling.",
        "Mobile-first accessibility baselines are enforced through global safe-area utilities, visible focus styles, and `tap-target` sizing integrated into button primitives."
      ],
      "environment_variables": []
    }
  }
}
